<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>To-Do List</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
<main>
  <form class="max-w-sm mx-auto text-[18px] mt-10" th:action="@{/create}" method="post" th:object="${todos}">
    <h3 class="font-medium">Create New Todo List</h3>

    <div class="mb-5 mt-8">
      <label for="task" class="block text-[18px] mb-2 text-sm font-medium text-gray-900 dark:text-white">Your Task</label>
      <input type="text" id="task" name="task" class="bg-gray-50 border px-4 py-2 rounded-[5px]" placeholder="Enter task" required>
    </div>

    <div class="mb-3 mt-8">
      <label for="description" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Description</label>
      <input type="text" id="description" name="description" class="bg-gray-50 border px-4 py-2 rounded-[5px]" placeholder="Task description" required>
    </div>

    <div class="mb-3 mt-8">
      <label for="isDoneCheckbox" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">Is Done</label>
      <input type="checkbox" id="isDoneCheckbox" name="isDone" class="bg-gray-50 border p-4" value="false">
    </div>

    <button type="submit" class="text-white bg-blue-600 hover:bg-blue-700 py-1 px-4 rounded-[5px]">Submit</button>
  </form>
</main>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.querySelector('form');
    const isDoneCheckbox = document.getElementById('isDoneCheckbox');

    form.addEventListener('submit', function(event) {
      // Create a hidden input to store the boolean value of the checkbox
      const hiddenIsDoneInput = document.createElement('input');
      hiddenIsDoneInput.type = 'hidden';
      hiddenIsDoneInput.name = 'isDone';
      // Set the value based on the checkbox's checked state
      hiddenIsDoneInput.value = isDoneCheckbox.checked ? 'true' : 'false';

      // Append the hidden input to the form
      form.appendChild(hiddenIsDoneInput);
    });
  });
</script>
</body>
</html>
